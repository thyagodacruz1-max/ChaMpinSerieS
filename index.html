<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChaMpinSerieS - Sistema Oficial</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family:'Orbitron',sans-serif;
    background:#0a0a0f;
    color:white;
}
header{
    padding:20px;
    text-align:center;
    font-size:1.8rem;
    font-weight:900;
    background:linear-gradient(90deg,#00f5ff,#8a2be2);
    -webkit-background-clip:text;
    color:transparent;
}
.container{
    max-width:1200px;
    margin:auto;
    padding:20px;
}
.section{
    margin-top:40px;
}
h2{
    margin-bottom:20px;
    text-align:center;
}
form{
    background:#111;
    padding:20px;
    border-radius:12px;
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    justify-content:center;
}
select,input,button{
    padding:8px;
    border-radius:8px;
    border:none;
}
button{
    background:linear-gradient(90deg,#00f5ff,#8a2be2);
    color:white;
    cursor:pointer;
}
table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
    font-size:0.8rem;
}
th,td{
    border-bottom:1px solid #222;
    padding:6px;
    text-align:center;
}
th{background:#1c1c2e}
.g4{background:rgba(0,255,150,0.15)}
.zr{background:rgba(255,0,100,0.15)}
.card{
    background:#111;
    padding:20px;
    border-radius:12px;
    margin-bottom:40px;
}
</style>
</head>
<body>

<header>ChaMpinSerieS - Sistema Oficial</header>

<div class="container">

<div class="section card">
<h2>Cadastrar Partida</h2>
<form id="formJogo">
<select id="liga">
<option value="A">Série A</option>
<option value="B">Série B</option>
</select>

<select id="time1"></select>
<input type="number" id="gols1" placeholder="Gols" required min="0">

<select id="time2"></select>
<input type="number" id="gols2" placeholder="Gols" required min="0">

<button type="submit">Registrar</button>
<button type="button" onclick="resetar()">Resetar</button>
</form>
</div>

<div class="section">
<h2>Tabelas</h2>

<div class="card">
<h3>Série A</h3>
<table id="tabelaA"></table>
</div>

<div class="card">
<h3>Série B</h3>
<table id="tabelaB"></table>
</div>

</div>

</div>

<script>
const timesA=["Alpha","Bravo","Cobra","Delta","Eagle","Falcon","Ghost","Hunter","Iron","Joker","Knight","Lion","Monster","Nitro","Omega","Phoenix"];
const timesB=["Rocket","Storm","Titan","Ultra","Venom","Wolf","Xtreme","Yellow","Zeus","Apex","Blaze","Cyber","Dragon","Elite","Force","Galaxy"];

let tabela=JSON.parse(localStorage.getItem("champinseries")) || {
A:criarTabela(timesA),
B:criarTabela(timesB)
};

function criarTabela(times){
return times.map(nome=>({
nome,pts:0,j:0,v:0,e:0,d:0,gp:0,gc:0,sg:0
}));
}

function salvar(){
localStorage.setItem("champinseries",JSON.stringify(tabela));
}

function atualizarSelect(){
const liga=document.getElementById("liga").value;
const lista=liga==="A"?timesA:timesB;

let t1=document.getElementById("time1");
let t2=document.getElementById("time2");

t1.innerHTML="";
t2.innerHTML="";

lista.forEach(t=>{
t1.innerHTML+=`<option>${t}</option>`;
t2.innerHTML+=`<option>${t}</option>`;
});
}

document.getElementById("liga").addEventListener("change",atualizarSelect);
atualizarSelect();

document.getElementById("formJogo").addEventListener("submit",function(e){
e.preventDefault();

let liga=document.getElementById("liga").value;
let time1=document.getElementById("time1").value;
let time2=document.getElementById("time2").value;
let gols1=parseInt(document.getElementById("gols1").value);
let gols2=parseInt(document.getElementById("gols2").value);

if(time1===time2){alert("Times iguais!");return;}

let t1=tabela[liga].find(t=>t.nome===time1);
let t2=tabela[liga].find(t=>t.nome===time2);

t1.j++;t2.j++;
t1.gp+=gols1;t1.gc+=gols2;
t2.gp+=gols2;t2.gc+=gols1;
t1.sg=t1.gp-t1.gc;
t2.sg=t2.gp-t2.gc;

if(gols1>gols2){t1.v++;t1.pts+=3;t2.d++}
else if(gols2>gols1){t2.v++;t2.pts+=3;t1.d++}
else{t1.e++;t2.e++;t1.pts++;t2.pts++}

salvar();
render();
this.reset();
});

function render(){
["A","B"].forEach(liga=>{
let dados=tabela[liga].sort((a,b)=>b.pts-a.pts||b.sg-a.sg||b.gp-a.gp);
let html=`<tr>
<th>#</th><th>Time</th><th>PTS</th><th>J</th><th>V</th><th>E</th><th>D</th><th>GP</th><th>GC</th><th>SG</th>
</tr>`;
dados.forEach((t,i)=>{
let classe="";
if(i<4)classe="g4";
if(i>=12)classe="zr";
html+=`<tr class="${classe}">
<td>${i+1}</td><td>${t.nome}</td><td>${t.pts}</td>
<td>${t.j}</td><td>${t.v}</td><td>${t.e}</td><td>${t.d}</td>
<td>${t.gp}</td><td>${t.gc}</td><td>${t.sg}</td>
</tr>`;
});
document.getElementById("tabela"+liga).innerHTML=html;
});
}

function resetar(){
if(confirm("Tem certeza que deseja resetar o campeonato?")){
localStorage.removeItem("champinseries");
location.reload();
}
}

render();
</script>

</body>
</html>
